<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Login</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript">

$(document).ready(function () {

    $('#loginButton').click(function () {
        jQuery.support.cors = true;
        $.ajax(
            {
                type: 'POST',
                //url: 'http://ec2-52-0-109-161.compute-1.amazonaws.com:9200/accounts/login',
                url: 'http://localhost:9200/accounts/login',
                data: "{}",
                contentType: "application/json; charset=utf-8",
                dataType: "jsonp",
                success: function (data) {
                    alert('success');
                },
                error: function (data) {
                    alert('failure');
                },
                beforeSend: setHeader,
                xhrFields: {
                    // The 'xhrFields' property sets additional fields on the XMLHttpRequest.
                    // This can be used to set the 'withCredentials' property.
                    // Set the value to 'true' if you'd like to pass cookies to the server.
                    // If this is enabled, your server must respond with the header
                    // 'Access-Control-Allow-Credentials: true'.
                    withCredentials: false
                  },

                  headers: {
                    // Set any custom headers here.
                    // If you set any non-simple headers, your server must include these
                    // headers in the 'Access-Control-Allow-Headers' response header.
                	  'username':'Aaron',
                	  'password':'password1'
                  }
            });
        //alert('button click');
    });
});

function setHeader(xhr) {
alert("hey");
xhr.setRequestHeader('username', 'Aaron');
xhr.setRequestHeader('password', 'password1');
}

</script>
</head>
<body>
<b>Please log in!</b>
<br/><br/><br/>
User Name <input class="username" type="text" name="username"><br>
Password <input class="password" type="text" name="password"><br>
  <button id = "loginButton" type = "button" >Log in</button>
</body>
</html>